项目名称：SDN环境下基于深度学习的DDoS攻击检测系统

---

🧠 项目目标：
构建适用于多类型DDoS攻击的CNN+LSTM模型，结合SDN环境实现实时检测和联动防御。

---

✅ 阶段一：数据探索与统一预处理

1. 数据探索：

   * 遍历所有CSV文件：探泄样本数、列数、缺失情况、数据类型；
   * 分析所有列名：统计出现频率，确认是否包含Timestamp或其他时间成分字段；
   * 分析Label列名及分布（如BENIGN vs 攻击类型）。

2. 特征列统一：

   * 输出数值列的常用列名集合，进行列名去空、格式统一；
   * 统计每个CSV文件中的列名存在情况，输出缺失列名列表；
   * 构建标准列名列表成为feature\_columns.json，用于后续统一预处理。

3. 清洗与标准化：

   * 删除NaN与恒值列；
   * 缺失值补充（均值或0）；
   * 使用MinMaxScaler对特征进行规一化，保存为scaler.pkl；
   * 将Label列映射为0/1，保存为CSV+压缩NPZ格式（X, y）。

---

✅ 阶段二：序列切片与模型训练

4. 切片为时序窗口：

   * 每个CSV按Timestamp排序；
   * 滑窗T=10，step=10；
   * 仅保留标签一致的序列；
   * 输出X\_seq(N,10,F)，y\_seq(N,)。

5. 构建联合训练集：

   * 合并所有NPZ文件（确保特征列顺序一致）；
   * 构建Dataloader（train/val划分）；
   * 保存特征列顺序、标准化器、窗口配置。

6. CNN+LSTM模型训练：

   * CNN推理空间特征，LSTM推理时间依赖；
   * 使用交叉熵损、Adam优化；
   * 支持EarlyStopping与GPU训练；
   * 输出模型文件.pt和训练日志。

---

✅ 阶段三：模型评估与泛化分析

7. 模型测试与分析：

   * 混淆矩阵、Precision、Recall、F1-score；
   * 对每种攻击类型的模型表现进行对比；
   * 支持多文件批量评估和可视化输出结果。

---

✅ 阶段四：推理服务部署

8. 推理准备：

   * 加载feature\_columns.json，确定特征顺序；
   * 加载scaler.pkl对输入进行标准化；
   * 缺值补 0；
   * 载入.pt模型进行分类推断。

9. FastAPI服务部署：

   * 接受JSON格式的流量特征数据；
   * 返回分类结果 + 信度分数；
   * 给前端提供时间折线图 + 统计表 + 预警计数。

10. 控制器联动（可选）：

* 联动Ryu控制器，分类为攻击则下发Drop规则；
* 支持白名单、规则清除。

---

📦 输出产物：

* 统一特征集与Scaler
* 训练好的CNN+LSTM模型（.pt）
* 多类DDoS合并训练数据（.npz）
* FastAPI推理服务接口和前端可视化面板
* SDN控制器联动模块（可选）


---

## ■ 项目根目录

| 文件/文件夹                 | 解释                              |
| ---------------------- | ------------------------------- |
| `CNN-LSTM.ipynb`       | 主流演练 Notebook，执行全部 1.x 到 2.x 模块 |
| `feature_columns.json` | 统一特征列名列表，用于清洗+模型输入对齐            |
| `scaler.pkl`           | MinMaxScaler 的持久化文件，用于推理等等总结    |
| `model.pt`             | 训练过程中保存的最优 CNN+LSTM 模型参数        |
| `技术大纲.md`，`技术计划书.md`   | 项目文档，包括目标、分阶、组件、期间等内容           |


## ■ `data/` 数据主目录

### → `raw/`

* 原始数据（CICDDoS2019）未处理状态
* 装入 ZIP 和 CSV 格式，分日期分类

### → `processed/`

* 通过 1.3 模块对 raw CSV 进行特征清洗 + 规一化
* 保留为规范 CSV，便于打印和统计

### → `processed_npz/`

* 将 processed CSV 转换为 NumPy 的 `.npz`（X, y）
* 未经过时序切片，可用于静态类型训练
* 来自代码块 1.3

### → `processed_npz_seq/`

* 通过 1.4 模块对 `.npz` 进行滑窗时序切片 (T, F)
* 格式为 `(N, 3, 86)`，用于 CNN+LSTM 训练
* 是 2.x 模型输入的核心资料

### → `final_dataset/`

* 通过 1.5 合并全部时序数据
* 分成 train/val/test 集合，给模型训练
* 保存格式为 `.npz`
